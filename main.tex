%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                          Packages                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[a4paper,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, top=3cm, bottom=3cm, left=2.5cm, right=2.5cm, marginparwidth=2cm, headsep=1.2cm]{geometry} % layout
\usepackage[bookmarks=true]{hyperref} % enables hyperlinks in the PDF
\hypersetup{colorlinks=true, linkcolor=black, urlcolor=blue, citecolor=black} \urlstyle{same}
\usepackage{amsmath}
\usepackage{cleveref} \Crefformat{figure}{#2Fig.~#1#3} % makes referencing customizable (e.g. \Cref{}). See: https://texblog.org/2013/05/06/cleveref-a-clever-way-to-reference-in-latex/)
\usepackage[nottoc, notlof, notlot]{tocbibind}  % includes bibliography in table of contents (TOC)
\usepackage[square]{natbib} % sets reference style
\usepackage{graphicx} % required to include images
\usepackage[svgnames]{xcolor}
\usepackage{tikz}

\usepackage{subfig}
\usepackage{siunitx} % makes it easier to use units (e.g. \SI{15}{mm}). See: https://mirror.foobar.to/CTAN/macros/latex/contrib/siunitx/siunitx.pdf
\usepackage[font=small]{caption} % reduces the caption's font size
\usepackage{eso-pic} % required to add the titlepage background image
\usepackage{lipsum} % To generate lorem ipsum dummy text
\usepackage{pgfgantt} % For Gantt chart creation
\usepackage{fancyhdr} % Changes the header & footer style
\usepackage{float}
\usepackage{bm}
\usepackage{amsfonts} 
\usepackage{booktabs}
\usepackage{multirow}

\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
\usepackage{siunitx}
\usepackage{hyperref}

\usepackage{placeins}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                          Commands                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author
% Use \\ to separate multiple authors (e.g. Robert\\Nathalie\\Mike)
\newcommand{\myName}{SOMAS Class 2021-2022}

% Title
% Introduce line breaks with \\
\newcommand{\myTitle}{Self-Organising Multi-Agent Systems}

% Type of Thesis
\newcommand{\thesisType}{Final Report}

% Date
\newcommand{\myDate}{January 2022}

% Supervisors
% Use \\ to separate multiple supervisors (e.g. Robert\\Nathalie\\Mike)
% Use full titles (e.g. Prof. Dr., Dr. )
\newcommand{\supervisors}{Prof. Dr. Jeremy Pitt}

% ToDo Command
\newcommand{\ToDo}[1]{\textcolor{red}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                          Page Format                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Header & Footer (leave unchanged)
\pagestyle{fancy}
\fancyhf{}
%\rhead{\includegraphics[height = 0.6cm]{}}
\lhead{\includegraphics[height = 0.8cm]{template_figures/Logo_for_Imperial_College_London.svg.png}}
\fancyfoot[C]{\thepage}
\setlength{\headheight}{26.85pt}%
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.5pt}

% Paragraphs
\setlength\parindent{0pt}
\setlength{\parskip}{2mm}

% Section Format
\usepackage[explicit]{titlesec}

\setlength{\titlewidth}{\linewidth}
\newcommand{\sectionfont}{\Huge\bfseries}
\newcommand{\subsectionfont}{\Huge\bfseries}

\titlespacing*{\section}{0pt}{120pt}{70pt plus 2pt minus 2pt}{}
\newcommand{\sectionbreak}{\clearpage}

\titleformat{\section}[block]%
    {\vspace*{80pt}
      \setlength{\titlewidth}{1\titlewidth}
      \titleline*[c]{\titlerule[0.5pt]}
     \vspace{-28pt}%
     \sectionfont\centering}
    {\begin{center}
        \thesection .~#1
    \end{center}}{1em}
    {\sectionfont}
    [\vspace{-26pt}{\begingroup
      \setlength{\titlewidth}{1\titlewidth}
      \titleline*[c]{\titlerule[0.5pt]}
    \endgroup}]
    
\titleformat{name=\section,numberless}[block]
    {\vspace*{80pt}
      \setlength{\titlewidth}{1\titlewidth}
      \titleline*[c]{\titlerule[0.5pt]}
     \vspace{-28pt}%
     \centering
     \sectionfont}
    {\begin{center}
         #1
    \end{center}}{1em}
    {\sectionfont}
    [\vspace{-26pt}{\begingroup
      \setlength{\titlewidth}{1\titlewidth}
      \titleline*[c]{\titlerule[0.5pt]}
    \endgroup}]
    
\titleformat{\subsection}
{\normalfont\Large\bfseries}{\thesubsection~ #1}{1em}{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                        Title Page                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Don't change anything here
\begin{document}
\begin{titlepage}
\newgeometry{top=2cm, bottom=4cm, right=1.5cm, left=1cm}

\tikz[remember picture,overlay] \node[opacity=1,inner sep=0pt, anchor=west] (A) at (2cm,-1.5cm){\includegraphics[scale=0.05]{template_figures/Logo_for_Imperial_College_London.svg.png}};

\begin{center}
    \vspace*{6cm}
    \huge \textbf{\thesisType}\\
    \vspace*{0.75cm}
    \Huge \myTitle\\
    \vspace*{5cm}
    \huge \myName\\
    \vspace*{0.5cm}
    \LARGE \myDate\\
    \vfill
    Supervision\\
    \vspace*{0.5cm}
    \huge \supervisors 
\end{center}

\end{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%               Abstract & Table of Contents                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagenumbering{roman}

\begin{abstract}
    \noindent
    \lipsum[3]
\end{abstract}

\newpage
\tableofcontents
\newpage

\pagenumbering{arabic}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                      Document Start                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{000_introduction/000_introduction}
\input{001_another_section/001_another_section}
\input{100_conclusion/100_conclusion}
\input{101_future_work/101_future_work}

% Appendix
\appendix
\input{102_supplementay_material/102_supplementary_material}

% References
\newpage
\bibliography{references} 
\bibliographystyle{apalike} % Sets the referencing style

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                        Document End                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}